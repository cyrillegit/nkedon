// script issu de : http://webbricks.org/bricks/jQuery.lazyRender/
(function(d){d.fn.lazyRender=function(c){var m=this,k,h=[],n=[],o=[];function p(a){var b,f,g=a.parentNode,e=[];b=document.createElement("div");b.style.display="none";b=document.body.appendChild(b);d(b).html(a.nodeValue.replace(k,""));f=b.childNodes;while(f[0]){e.push(g.insertBefore(f[0],a))}d(b).remove();d(a).remove();if(c.onShow){n.push(e);o.push(a);c.onShow.call(m,e,a)}}function i(){var a,b,f=d(window),g,e,l,j;b=f.scrollTop()+f.height()+c.tolerance;for(a=0;a<h.length;a++){g=h[a];if(c.showMode=="instant"){l=1}else{e=d(g);j=e.next().length?e.next():e.prev().length?e.prev():e.parent();j=j.offset().top;l=j<b}if(l){p(g);h.splice(a,1);a--}}if(!h.length){d(window).unbind("resize",i).unbind("scroll",i);if(c.onComplete){c.onComplete.call(m,n,o)}}}c=d.extend({onShow:0,onComplete:0,label:"lazyRender",showMode:"scroll",tolerance:200},c);k=c.label instanceof RegExp?c.label:new RegExp("^[ \t\r\n]*"+c.label,"m");this.add(this.find("*")).not("script","style").each(function(f,g){d.each(g.childNodes,function(a,b){if(b.nodeType===8){if(k.test(b.nodeValue.substr(0,30))){h.push(b)}}})});if(c.showMode=="scroll"){d(window).resize(i).scroll(i)}i();return this}})(jQuery);